"use strict";var le=Object.defineProperty;var at=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var ut=Object.prototype.hasOwnProperty;var yt=(e,n)=>{for(var c in n)le(e,c,{get:n[c],enumerable:!0})},dt=(e,n,c,T)=>{if(n&&typeof n=="object"||typeof n=="function")for(let d of st(n))!ut.call(e,d)&&d!==c&&le(e,d,{get:()=>n[d],enumerable:!(T=at(n,d))||T.enumerable});return e};var pt=e=>dt(le({},"__esModule",{value:!0}),e);var xt={};yt(xt,{QueryStatus:()=>oe,_NEVER:()=>ze,buildCreateApi:()=>pe,copyWithStructuralSharing:()=>Y,coreModule:()=>ce,coreModuleName:()=>ie,createApi:()=>ot,defaultSerializeQueryArgs:()=>re,fakeBaseQuery:()=>Ve,fetchBaseQuery:()=>Ee,retry:()=>Be,setupListeners:()=>ke,skipToken:()=>ne});module.exports=pt(xt);var oe=(d=>(d.uninitialized="uninitialized",d.pending="pending",d.fulfilled="fulfilled",d.rejected="rejected",d))(oe||{});function he(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var i=require("@reduxjs/toolkit");var Qe=i.isPlainObject;function Y(e,n){if(e===n||!(Qe(e)&&Qe(n)||Array.isArray(e)&&Array.isArray(n)))return n;let c=Object.keys(n),T=Object.keys(e),d=c.length===T.length,R=Array.isArray(n)?[]:{};for(let x of c)R[x]=Y(e[x],n[x]),d&&(d=e[x]===R[x]);return d?e:R}function K(e){let n=0;for(let c in e)n++;return n}var fe=e=>[].concat(...e);function Re(e){return new RegExp("(^|:)//").test(e)}function Se(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function me(e){return e!=null}function xe(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var ct=e=>e.replace(/\/$/,""),lt=e=>e.replace(/^\//,"");function Ae(e,n){if(!e)return n;if(!n)return e;if(Re(n))return n;let c=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=ct(e),n=lt(n),`${e}${c}${n}`}var De=(...e)=>fetch(...e),ft=e=>e.status>=200&&e.status<=299,mt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function be(e){if(!(0,i.isPlainObject)(e))return e;let n={...e};for(let[c,T]of Object.entries(n))T===void 0&&delete n[c];return n}function Ee({baseUrl:e,prepareHeaders:n=l=>l,fetchFn:c=De,paramsSerializer:T,isJsonContentType:d=mt,jsonContentType:R="application/json",jsonReplacer:x,timeout:M,responseHandler:B,validateStatus:m,...A}={}){return typeof fetch>"u"&&c===De&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(r,t)=>{let{getState:g,extra:S,endpoint:p,forced:y,type:s}=t,a,{url:o,headers:u=new Headers(A.headers),params:h=void 0,responseHandler:f=B??"json",validateStatus:Q=m??ft,timeout:b=M,...D}=typeof r=="string"?{url:r}:r,E,k=t.signal;b&&(E=new AbortController,t.signal.addEventListener("abort",E.abort),k=E.signal);let v={...A,signal:k,...D};u=new Headers(be(u)),v.headers=await n(u,{getState:g,extra:S,endpoint:p,forced:y,type:s})||u;let C=P=>typeof P=="object"&&((0,i.isPlainObject)(P)||Array.isArray(P)||typeof P.toJSON=="function");if(!v.headers.has("content-type")&&C(v.body)&&v.headers.set("content-type",R),C(v.body)&&d(v.headers)&&(v.body=JSON.stringify(v.body,x)),h){let P=~o.indexOf("?")?"&":"?",V=T?T(h):new URLSearchParams(be(h));o+=P+V}o=Ae(e,o);let w=new Request(o,v);a={request:new Request(o,v)};let I,F=!1,q=E&&setTimeout(()=>{F=!0,E.abort()},b);try{I=await c(w)}catch(P){return{error:{status:F?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(P)},meta:a}}finally{q&&clearTimeout(q),E?.signal.removeEventListener("abort",E.abort)}let N=I.clone();a.response=N;let z,L="";try{let P;if(await Promise.all([l(I,f).then(V=>z=V,V=>P=V),N.text().then(V=>L=V,()=>{})]),P)throw P}catch(P){return{error:{status:"PARSING_ERROR",originalStatus:I.status,data:L,error:String(P)},meta:a}}return Q(I,z)?{data:z,meta:a}:{error:{status:I.status,data:z},meta:a}};async function l(r,t){if(typeof t=="function")return t(r);if(t==="content-type"&&(t=d(r.headers)?"json":"text"),t==="json"){let g=await r.text();return g.length?JSON.parse(g):null}return r.text()}}var j=class{constructor(n,c=void 0){this.value=n;this.meta=c}};async function gt(e=0,n=5){let c=Math.min(e,n),T=~~((Math.random()+.4)*(300<<c));await new Promise(d=>setTimeout(R=>d(R),T))}function Tt(e){throw Object.assign(new j({error:e}),{throwImmediately:!0})}var Me={},ht=(e,n)=>async(c,T,d)=>{let R=[5,(n||Me).maxRetries,(d||Me).maxRetries].filter(A=>A!==void 0),[x]=R.slice(-1),B={maxRetries:x,backoff:gt,retryCondition:(A,l,{attempt:r})=>r<=x,...n,...d},m=0;for(;;)try{let A=await e(c,T,d);if(A.error)throw new j(A);return A}catch(A){if(m++,A.throwImmediately){if(A instanceof j)return A.value;throw A}if(A instanceof j&&!B.retryCondition(A.value.error,c,{attempt:m,baseQueryApi:T,extraOptions:d}))return A.value;await B.backoff(m,B.maxRetries)}},Be=Object.assign(ht,{fail:Tt});var H=(0,i.createAction)("__rtkq/focused"),$=(0,i.createAction)("__rtkq/unfocused"),_=(0,i.createAction)("__rtkq/online"),J=(0,i.createAction)("__rtkq/offline"),ge=!1;function ke(e,n){function c(){let T=()=>e(H()),d=()=>e($()),R=()=>e(_()),x=()=>e(J()),M=()=>{window.document.visibilityState==="visible"?T():d()};return ge||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",M,!1),window.addEventListener("focus",T,!1),window.addEventListener("online",R,!1),window.addEventListener("offline",x,!1),ge=!0),()=>{window.removeEventListener("focus",T),window.removeEventListener("visibilitychange",M),window.removeEventListener("online",R),window.removeEventListener("offline",x),ge=!1}}return n?n(e,{onFocus:H,onFocusLost:$,onOffline:J,onOnline:_}):c()}function se(e){return e.type==="query"}function ve(e){return e.type==="mutation"}function X(e,n,c,T,d,R){return Qt(e)?e(n,c,T,d).map(ae).map(R):Array.isArray(e)?e.map(ae).map(R):[]}function Qt(e){return typeof e=="function"}function ae(e){return typeof e=="string"?{type:e}:e}var ue=require("immer");var Vt=require("@reduxjs/toolkit");function Pe(e,n){return e.catch(n)}var G=Symbol("forceQueryFn"),Z=e=>typeof e[G]=="function";function Ce({serializeQueryArgs:e,queryThunk:n,mutationThunk:c,api:T,context:d}){let R=new Map,x=new Map,{unsubscribeQueryResult:M,removeMutationResult:B,updateSubscriptionOptions:m}=T.internalActions;return{buildInitiateQuery:S,buildInitiateMutation:p,getRunningQueryThunk:A,getRunningMutationThunk:l,getRunningQueriesThunk:r,getRunningMutationsThunk:t};function A(y,s){return a=>{let o=d.endpointDefinitions[y],u=e({queryArgs:s,endpointDefinition:o,endpointName:y});return R.get(a)?.[u]}}function l(y,s){return a=>x.get(a)?.[s]}function r(){return y=>Object.values(R.get(y)||{}).filter(me)}function t(){return y=>Object.values(x.get(y)||{}).filter(me)}function g(y){}function S(y,s){let a=(o,{subscribe:u=!0,forceRefetch:h,subscriptionOptions:f,[G]:Q,...b}={})=>(D,E)=>{let k=e({queryArgs:o,endpointDefinition:s,endpointName:y}),v=n({...b,type:"query",subscribe:u,forceRefetch:h,subscriptionOptions:f,endpointName:y,originalArgs:o,queryCacheKey:k,[G]:Q}),C=T.endpoints[y].select(o),w=D(v),O=C(E());let{requestId:I,abort:F}=w,q=O.requestId!==I,N=R.get(D)?.[k],z=()=>C(E()),L=Object.assign(Q?w.then(z):q&&!N?Promise.resolve(O):Promise.all([N,w]).then(z),{arg:o,requestId:I,subscriptionOptions:f,queryCacheKey:k,abort:F,async unwrap(){let P=await L;if(P.isError)throw P.error;return P.data},refetch:()=>D(a(o,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&D(M({queryCacheKey:k,requestId:I}))},updateSubscriptionOptions(P){L.subscriptionOptions=P,D(m({endpointName:y,requestId:I,queryCacheKey:k,options:P}))}});if(!N&&!q&&!Q){let P=R.get(D)||{};P[k]=L,R.set(D,P),L.then(()=>{delete P[k],K(P)||R.delete(D)})}return L};return a}function p(y){return(s,{track:a=!0,fixedCacheKey:o}={})=>(u,h)=>{let f=c({type:"mutation",endpointName:y,originalArgs:s,track:a,fixedCacheKey:o}),Q=u(f);let{requestId:b,abort:D,unwrap:E}=Q,k=Pe(Q.unwrap().then(O=>({data:O})),O=>({error:O})),v=()=>{u(B({requestId:b,fixedCacheKey:o}))},C=Object.assign(k,{arg:Q.arg,requestId:b,abort:D,unwrap:E,reset:v}),w=x.get(u)||{};return x.set(u,w),w[b]=C,C.then(()=>{delete w[b],K(w)||x.delete(u)}),o&&(w[o]=C,C.then(()=>{w[o]===C&&(delete w[o],K(w)||x.delete(u))})),C}}}function we(e){return e}function Fe({reducerPath:e,baseQuery:n,context:{endpointDefinitions:c},serializeQueryArgs:T,api:d,assertTagType:R}){let x=(s,a,o,u)=>(h,f)=>{let Q=c[s],b=T({queryArgs:a,endpointDefinition:Q,endpointName:s});if(h(d.internalActions.queryResultPatched({queryCacheKey:b,patches:o})),!u)return;let D=d.endpoints[s].select(a)(f()),E=X(Q.providesTags,D.data,void 0,a,{},R);h(d.internalActions.updateProvidedBy({queryCacheKey:b,providedTags:E}))},M=(s,a,o,u=!0)=>(h,f)=>{let b=d.endpoints[s].select(a)(f()),D={patches:[],inversePatches:[],undo:()=>h(d.util.patchQueryData(s,a,D.inversePatches,u))};if(b.status==="uninitialized")return D;let E;if("data"in b)if((0,ue.isDraftable)(b.data)){let[k,v,C]=(0,ue.produceWithPatches)(b.data,o);D.patches.push(...v),D.inversePatches.push(...C),E=k}else E=o(b.data),D.patches.push({op:"replace",path:[],value:E}),D.inversePatches.push({op:"replace",path:[],value:b.data});return D.patches.length===0||h(d.util.patchQueryData(s,a,D.patches,u)),D},B=(s,a,o)=>u=>u(d.endpoints[s].initiate(a,{subscribe:!1,forceRefetch:!0,[G]:()=>({data:o})})),m=async(s,{signal:a,abort:o,rejectWithValue:u,fulfillWithValue:h,dispatch:f,getState:Q,extra:b})=>{let D=c[s.endpointName];try{let E=we,k,v={signal:a,abort:o,dispatch:f,getState:Q,extra:b,endpoint:s.endpointName,type:s.type,forced:s.type==="query"?A(s,Q()):void 0,queryCacheKey:s.type==="query"?s.queryCacheKey:void 0},C=s.type==="query"?s[G]:void 0;if(C?k=C():D.query?(k=await n(D.query(s.originalArgs),v,D.extraOptions),D.transformResponse&&(E=D.transformResponse)):k=await D.queryFn(s.originalArgs,v,D.extraOptions,w=>n(w,v,D.extraOptions)),typeof process<"u",k.error)throw new j(k.error,k.meta);return h(await E(k.data,k.meta,s.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:k.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(E){let k=E;if(k instanceof j){let v=we;D.query&&D.transformErrorResponse&&(v=D.transformErrorResponse);try{return u(await v(k.value,k.meta,s.originalArgs),{baseQueryMeta:k.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(C){k=C}}throw typeof process<"u",console.error(k),k}};function A(s,a){let o=a[e]?.queries?.[s.queryCacheKey],u=a[e]?.config.refetchOnMountOrArgChange,h=o?.fulfilledTimeStamp,f=s.forceRefetch??(s.subscribe&&u);return f?f===!0||(Number(new Date)-Number(h))/1e3>=f:!1}let l=(0,i.createAsyncThunk)(`${e}/executeQuery`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}},condition(s,{getState:a}){let o=a(),u=o[e]?.queries?.[s.queryCacheKey],h=u?.fulfilledTimeStamp,f=s.originalArgs,Q=u?.originalArgs,b=c[s.endpointName];return Z(s)?!0:u?.status==="pending"?!1:A(s,o)||se(b)&&b?.forceRefetch?.({currentArg:f,previousArg:Q,endpointState:u,state:o})?!0:!h},dispatchConditionRejection:!0}),r=(0,i.createAsyncThunk)(`${e}/executeMutation`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}}}),t=s=>"force"in s,g=s=>"ifOlderThan"in s,S=(s,a,o)=>(u,h)=>{let f=t(o)&&o.force,Q=g(o)&&o.ifOlderThan,b=(E=!0)=>{let k={forceRefetch:E,isPrefetch:!0};return d.endpoints[s].initiate(a,k)},D=d.endpoints[s].select(a)(h());if(f)u(b());else if(Q){let E=D?.fulfilledTimeStamp;if(!E){u(b());return}(Number(new Date)-Number(new Date(E)))/1e3>=Q&&u(b())}else u(b(!1))};function p(s){return a=>a?.meta?.arg?.endpointName===s}function y(s,a){return{matchPending:(0,i.isAllOf)((0,i.isPending)(s),p(a)),matchFulfilled:(0,i.isAllOf)((0,i.isFulfilled)(s),p(a)),matchRejected:(0,i.isAllOf)((0,i.isRejected)(s),p(a))}}return{queryThunk:l,mutationThunk:r,prefetch:S,updateQueryData:M,upsertQueryData:B,patchQueryData:x,buildMatchThunkActions:y}}function ye(e,n,c,T){return X(c[e.meta.arg.endpointName][n],(0,i.isFulfilled)(e)?e.payload:void 0,(0,i.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,T)}var Oe=require("immer"),te=require("immer");function de(e,n,c){let T=e[n];T&&c(T)}function W(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Ie(e,n,c){let T=e[W(n)];T&&c(T)}var ee={};function qe({reducerPath:e,queryThunk:n,mutationThunk:c,context:{endpointDefinitions:T,apiUid:d,extractRehydrationInfo:R,hasRehydrationInfo:x},assertTagType:M,config:B}){let m=(0,i.createAction)(`${e}/resetApiState`),A=(0,i.createSlice)({name:`${e}/queries`,initialState:ee,reducers:{removeQueryResult:{reducer(a,{payload:{queryCacheKey:o}}){delete a[o]},prepare:(0,i.prepareAutoBatched)()},queryResultPatched:{reducer(a,{payload:{queryCacheKey:o,patches:u}}){de(a,o,h=>{h.data=(0,te.applyPatches)(h.data,u.concat())})},prepare:(0,i.prepareAutoBatched)()}},extraReducers(a){a.addCase(n.pending,(o,{meta:u,meta:{arg:h}})=>{let f=Z(h);o[h.queryCacheKey]??={status:"uninitialized",endpointName:h.endpointName},de(o,h.queryCacheKey,Q=>{Q.status="pending",Q.requestId=f&&Q.requestId?Q.requestId:u.requestId,h.originalArgs!==void 0&&(Q.originalArgs=h.originalArgs),Q.startedTimeStamp=u.startedTimeStamp})}).addCase(n.fulfilled,(o,{meta:u,payload:h})=>{de(o,u.arg.queryCacheKey,f=>{if(f.requestId!==u.requestId&&!Z(u.arg))return;let{merge:Q}=T[u.arg.endpointName];if(f.status="fulfilled",Q)if(f.data!==void 0){let{fulfilledTimeStamp:b,arg:D,baseQueryMeta:E,requestId:k}=u,v=(0,i.createNextState)(f.data,C=>Q(C,h,{arg:D.originalArgs,baseQueryMeta:E,fulfilledTimeStamp:b,requestId:k}));f.data=v}else f.data=h;else f.data=T[u.arg.endpointName].structuralSharing??!0?Y((0,Oe.isDraft)(f.data)?(0,te.original)(f.data):f.data,h):h;delete f.error,f.fulfilledTimeStamp=u.fulfilledTimeStamp})}).addCase(n.rejected,(o,{meta:{condition:u,arg:h,requestId:f},error:Q,payload:b})=>{de(o,h.queryCacheKey,D=>{if(!u){if(D.requestId!==f)return;D.status="rejected",D.error=b??Q}})}).addMatcher(x,(o,u)=>{let{queries:h}=R(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&(o[f]=Q)})}}),l=(0,i.createSlice)({name:`${e}/mutations`,initialState:ee,reducers:{removeMutationResult:{reducer(a,{payload:o}){let u=W(o);u in a&&delete a[u]},prepare:(0,i.prepareAutoBatched)()}},extraReducers(a){a.addCase(c.pending,(o,{meta:u,meta:{requestId:h,arg:f,startedTimeStamp:Q}})=>{f.track&&(o[W(u)]={requestId:h,status:"pending",endpointName:f.endpointName,startedTimeStamp:Q})}).addCase(c.fulfilled,(o,{payload:u,meta:h})=>{h.arg.track&&Ie(o,h,f=>{f.requestId===h.requestId&&(f.status="fulfilled",f.data=u,f.fulfilledTimeStamp=h.fulfilledTimeStamp)})}).addCase(c.rejected,(o,{payload:u,error:h,meta:f})=>{f.arg.track&&Ie(o,f,Q=>{Q.requestId===f.requestId&&(Q.status="rejected",Q.error=u??h)})}).addMatcher(x,(o,u)=>{let{mutations:h}=R(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&f!==Q?.requestId&&(o[f]=Q)})}}),r=(0,i.createSlice)({name:`${e}/invalidation`,initialState:ee,reducers:{updateProvidedBy:{reducer(a,o){let{queryCacheKey:u,providedTags:h}=o.payload;for(let f of Object.values(a))for(let Q of Object.values(f)){let b=Q.indexOf(u);b!==-1&&Q.splice(b,1)}for(let{type:f,id:Q}of h){let b=(a[f]??={})[Q||"__internal_without_id"]??=[];b.includes(u)||b.push(u)}},prepare:(0,i.prepareAutoBatched)()}},extraReducers(a){a.addCase(A.actions.removeQueryResult,(o,{payload:{queryCacheKey:u}})=>{for(let h of Object.values(o))for(let f of Object.values(h)){let Q=f.indexOf(u);Q!==-1&&f.splice(Q,1)}}).addMatcher(x,(o,u)=>{let{provided:h}=R(u);for(let[f,Q]of Object.entries(h))for(let[b,D]of Object.entries(Q)){let E=(o[f]??={})[b||"__internal_without_id"]??=[];for(let k of D)E.includes(k)||E.push(k)}}).addMatcher((0,i.isAnyOf)((0,i.isFulfilled)(n),(0,i.isRejectedWithValue)(n)),(o,u)=>{let h=ye(u,"providesTags",T,M),{queryCacheKey:f}=u.meta.arg;r.caseReducers.updateProvidedBy(o,r.actions.updateProvidedBy({queryCacheKey:f,providedTags:h}))})}}),t=(0,i.createSlice)({name:`${e}/subscriptions`,initialState:ee,reducers:{updateSubscriptionOptions(a,o){},unsubscribeQueryResult(a,o){},internal_getRTKQSubscriptions(){}}}),g=(0,i.createSlice)({name:`${e}/internalSubscriptions`,initialState:ee,reducers:{subscriptionsUpdated:{reducer(a,o){return(0,te.applyPatches)(a,o.payload)},prepare:(0,i.prepareAutoBatched)()}}}),S=(0,i.createSlice)({name:`${e}/config`,initialState:{online:xe(),focused:Se(),middlewareRegistered:!1,...B},reducers:{middlewareRegistered(a,{payload:o}){a.middlewareRegistered=a.middlewareRegistered==="conflict"||d!==o?"conflict":!0}},extraReducers:a=>{a.addCase(_,o=>{o.online=!0}).addCase(J,o=>{o.online=!1}).addCase(H,o=>{o.focused=!0}).addCase($,o=>{o.focused=!1}).addMatcher(x,o=>({...o}))}}),p=(0,i.combineReducers)({queries:A.reducer,mutations:l.reducer,provided:r.reducer,subscriptions:g.reducer,config:S.reducer}),y=(a,o)=>p(m.match(o)?void 0:a,o),s={...S.actions,...A.actions,...t.actions,...g.actions,...l.actions,...r.actions,resetApiState:m};return{reducer:y,actions:s}}var ne=Symbol.for("RTKQ/skipToken"),je={status:"uninitialized"},Ne=(0,i.createNextState)(je,()=>{}),Ke=(0,i.createNextState)(je,()=>{});function Ue({serializeQueryArgs:e,reducerPath:n,createSelector:c}){let T=l=>Ne,d=l=>Ke;return{buildQuerySelector:M,buildMutationSelector:B,selectInvalidatedBy:m,selectCachedArgsForQuery:A};function R(l){return{...l,...he(l.status)}}function x(l){return l[n]}function M(l,r){return t=>{let g=e({queryArgs:t,endpointDefinition:r,endpointName:l});return c(t===ne?T:y=>x(y)?.queries?.[g]??Ne,R)}}function B(){return l=>{let r;return typeof l=="object"?r=W(l)??ne:r=l,c(r===ne?d:S=>x(S)?.mutations?.[r]??Ke,R)}}function m(l,r){let t=l[n],g=new Set;for(let S of r.map(ae)){let p=t.provided[S.type];if(!p)continue;let y=(S.id!==void 0?p[S.id]:fe(Object.values(p)))??[];for(let s of y)g.add(s)}return fe(Array.from(g.values()).map(S=>{let p=t.queries[S];return p?[{queryCacheKey:S,endpointName:p.endpointName,originalArgs:p.originalArgs}]:[]}))}function A(l,r){return Object.values(l[n].queries).filter(t=>t?.endpointName===r&&t.status!=="uninitialized").map(t=>t.originalArgs)}}var He=require("@reduxjs/toolkit");var Le=WeakMap?new WeakMap:void 0,re=({endpointName:e,queryArgs:n})=>{let c="",T=Le?.get(n);if(typeof T=="string")c=T;else{let d=JSON.stringify(n,(R,x)=>(x=typeof x=="bigint"?{$bigint:x.toString()}:x,x=(0,i.isPlainObject)(x)?Object.keys(x).sort().reduce((M,B)=>(M[B]=x[B],M),{}):x,x));(0,i.isPlainObject)(n)&&Le?.set(n,d),c=d}return`${e}(${c})`};var Te=require("reselect");function pe(...e){return function(c){let T=(0,Te.weakMapMemoize)(m=>c.extractRehydrationInfo?.(m,{reducerPath:c.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...c,extractRehydrationInfo:T,serializeQueryArgs(m){let A=re;if("serializeQueryArgs"in m.endpointDefinition){let l=m.endpointDefinition.serializeQueryArgs;A=r=>{let t=l(r);return typeof t=="string"?t:re({...r,queryArgs:t})}}else c.serializeQueryArgs&&(A=c.serializeQueryArgs);return A(m)},tagTypes:[...c.tagTypes||[]]},R={endpointDefinitions:{},batch(m){m()},apiUid:(0,i.nanoid)(),extractRehydrationInfo:T,hasRehydrationInfo:(0,Te.weakMapMemoize)(m=>T(m)!=null)},x={injectEndpoints:B,enhanceEndpoints({addTagTypes:m,endpoints:A}){if(m)for(let l of m)d.tagTypes.includes(l)||d.tagTypes.push(l);if(A)for(let[l,r]of Object.entries(A))typeof r=="function"?r(R.endpointDefinitions[l]):Object.assign(R.endpointDefinitions[l]||{},r);return x}},M=e.map(m=>m.init(x,d,R));function B(m){let A=m.endpoints({query:l=>({...l,type:"query"}),mutation:l=>({...l,type:"mutation"})});for(let[l,r]of Object.entries(A)){if(m.overrideExisting!==!0&&l in R.endpointDefinitions){if(m.overrideExisting==="throw")throw new Error((0,He.formatProdErrorMessage)(39));typeof process<"u";continue}R.endpointDefinitions[l]=r;for(let t of M)t.injectEndpoint(l,r)}return x}return x.injectEndpoints({endpoints:c.endpoints})}}var _e=require("@reduxjs/toolkit"),ze=Symbol();function Ve(){return function(){throw new Error((0,_e.formatProdErrorMessage)(33))}}var it=require("immer");function U(e,...n){return Object.assign(e,...n)}var We=require("immer");var $e=({api:e,queryThunk:n,internalState:c})=>{let T=`${e.reducerPath}/subscriptions`,d=null,R=null,{updateSubscriptionOptions:x,unsubscribeQueryResult:M}=e.internalActions,B=(t,g)=>{if(x.match(g)){let{queryCacheKey:p,requestId:y,options:s}=g.payload;return t?.[p]?.[y]&&(t[p][y]=s),!0}if(M.match(g)){let{queryCacheKey:p,requestId:y}=g.payload;return t[p]&&delete t[p][y],!0}if(e.internalActions.removeQueryResult.match(g))return delete t[g.payload.queryCacheKey],!0;if(n.pending.match(g)){let{meta:{arg:p,requestId:y}}=g,s=t[p.queryCacheKey]??={};return s[`${y}_running`]={},p.subscribe&&(s[y]=p.subscriptionOptions??s[y]??{}),!0}let S=!1;if(n.fulfilled.match(g)||n.rejected.match(g)){let p=t[g.meta.arg.queryCacheKey]||{},y=`${g.meta.requestId}_running`;S||=!!p[y],delete p[y]}if(n.rejected.match(g)){let{meta:{condition:p,arg:y,requestId:s}}=g;if(p&&y.subscribe){let a=t[y.queryCacheKey]??={};a[s]=y.subscriptionOptions??a[s]??{},S=!0}}return S},m=()=>c.currentSubscriptions,r={getSubscriptions:m,getSubscriptionCount:t=>{let S=m()[t]??{};return K(S)},isRequestSubscribed:(t,g)=>!!m()?.[t]?.[g]};return(t,g)=>{if(d||(d=JSON.parse(JSON.stringify(c.currentSubscriptions))),e.util.resetApiState.match(t))return d=c.currentSubscriptions={},R=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(t))return[!1,r];let S=B(c.currentSubscriptions,t),p=!0;if(S){R||(R=setTimeout(()=>{let a=JSON.parse(JSON.stringify(c.currentSubscriptions)),[,o]=(0,We.produceWithPatches)(d,()=>a);g.next(e.internalActions.subscriptionsUpdated(o)),d=a,R=null},500));let y=typeof t.type=="string"&&!!t.type.startsWith(T),s=n.rejected.match(t)&&t.meta.condition&&!!t.meta.arg.subscribe;p=!y&&!s}return[p,!1]}};function Rt(e){for(let n in e)return!1;return!0}var St=2147483647/1e3-1,Je=({reducerPath:e,api:n,queryThunk:c,context:T,internalState:d})=>{let{removeQueryResult:R,unsubscribeQueryResult:x}=n.internalActions,M=(0,i.isAnyOf)(x.match,c.fulfilled,c.rejected);function B(r){let t=d.currentSubscriptions[r];return!!t&&!Rt(t)}let m={},A=(r,t,g)=>{if(M(r)){let S=t.getState()[e],{queryCacheKey:p}=x.match(r)?r.payload:r.meta.arg;l(p,S.queries[p]?.endpointName,t,S.config)}if(n.util.resetApiState.match(r))for(let[S,p]of Object.entries(m))p&&clearTimeout(p),delete m[S];if(T.hasRehydrationInfo(r)){let S=t.getState()[e],{queries:p}=T.extractRehydrationInfo(r);for(let[y,s]of Object.entries(p))l(y,s?.endpointName,t,S.config)}};function l(r,t,g,S){let y=T.endpointDefinitions[t]?.keepUnusedDataFor??S.keepUnusedDataFor;if(y===1/0)return;let s=Math.max(0,Math.min(y,St));if(!B(r)){let a=m[r];a&&clearTimeout(a),m[r]=setTimeout(()=>{B(r)||g.dispatch(R({queryCacheKey:r})),delete m[r]},s*1e3)}}return A};var Ge=new Error("Promise never resolved before cacheEntryRemoved."),Ye=({api:e,reducerPath:n,context:c,queryThunk:T,mutationThunk:d,internalState:R})=>{let x=(0,i.isAsyncThunkAction)(T),M=(0,i.isAsyncThunkAction)(d),B=(0,i.isFulfilled)(T,d),m={},A=(t,g,S)=>{let p=l(t);if(T.pending.match(t)){let y=S[n].queries[p],s=g.getState()[n].queries[p];!y&&s&&r(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId)}else if(d.pending.match(t))g.getState()[n].mutations[p]&&r(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId);else if(B(t)){let y=m[p];y?.valueResolved&&(y.valueResolved({data:t.payload,meta:t.meta.baseQueryMeta}),delete y.valueResolved)}else if(e.internalActions.removeQueryResult.match(t)||e.internalActions.removeMutationResult.match(t)){let y=m[p];y&&(delete m[p],y.cacheEntryRemoved())}else if(e.util.resetApiState.match(t))for(let[y,s]of Object.entries(m))delete m[y],s.cacheEntryRemoved()};function l(t){return x(t)?t.meta.arg.queryCacheKey:M(t)?t.meta.arg.fixedCacheKey??t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?W(t.payload):""}function r(t,g,S,p,y){let s=c.endpointDefinitions[t],a=s?.onCacheEntryAdded;if(!a)return;let o={},u=new Promise(E=>{o.cacheEntryRemoved=E}),h=Promise.race([new Promise(E=>{o.valueResolved=E}),u.then(()=>{throw Ge})]);h.catch(()=>{}),m[S]=o;let f=e.endpoints[t].select(s.type==="query"?g:S),Q=p.dispatch((E,k,v)=>v),b={...p,getCacheEntry:()=>f(p.getState()),requestId:y,extra:Q,updateCachedData:s.type==="query"?E=>p.dispatch(e.util.updateQueryData(t,g,E)):void 0,cacheDataLoaded:h,cacheEntryRemoved:u},D=a(g,b);Promise.resolve(D).catch(E=>{if(E!==Ge)throw E})}return A};var Xe=({api:e,context:{apiUid:n},reducerPath:c})=>(T,d)=>{e.util.resetApiState.match(T)&&d.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"};var Ze=({reducerPath:e,context:n,context:{endpointDefinitions:c},mutationThunk:T,queryThunk:d,api:R,assertTagType:x,refetchQuery:M,internalState:B})=>{let{removeQueryResult:m}=R.internalActions,A=(0,i.isAnyOf)((0,i.isFulfilled)(T),(0,i.isRejectedWithValue)(T)),l=(0,i.isAnyOf)((0,i.isFulfilled)(T,d),(0,i.isRejected)(T,d)),r=[],t=(p,y)=>{A(p)?S(ye(p,"invalidatesTags",c,x),y):l(p)?S([],y):R.util.invalidateTags.match(p)&&S(X(p.payload,void 0,void 0,void 0,void 0,x),y)};function g(p){for(let y in p.queries)if(p.queries[y]?.status==="pending")return!0;for(let y in p.mutations)if(p.mutations[y]?.status==="pending")return!0;return!1}function S(p,y){let s=y.getState(),a=s[e];if(r.push(...p),a.config.invalidationBehavior==="delayed"&&g(a))return;let o=r;if(r=[],o.length===0)return;let u=R.util.selectInvalidatedBy(s,o);n.batch(()=>{let h=Array.from(u.values());for(let{queryCacheKey:f}of h){let Q=a.queries[f],b=B.currentSubscriptions[f]??{};Q&&(K(b)===0?y.dispatch(m({queryCacheKey:f})):Q.status!=="uninitialized"&&y.dispatch(M(Q)))}})}return t};var et=({reducerPath:e,queryThunk:n,api:c,refetchQuery:T,internalState:d})=>{let R={},x=(r,t)=>{(c.internalActions.updateSubscriptionOptions.match(r)||c.internalActions.unsubscribeQueryResult.match(r))&&B(r.payload,t),(n.pending.match(r)||n.rejected.match(r)&&r.meta.condition)&&B(r.meta.arg,t),(n.fulfilled.match(r)||n.rejected.match(r)&&!r.meta.condition)&&M(r.meta.arg,t),c.util.resetApiState.match(r)&&A()};function M({queryCacheKey:r},t){let g=t.getState()[e],S=g.queries[r],p=d.currentSubscriptions[r];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:s}=l(p);if(!Number.isFinite(y))return;let a=R[r];a?.timeout&&(clearTimeout(a.timeout),a.timeout=void 0);let o=Date.now()+y;R[r]={nextPollTimestamp:o,pollingInterval:y,timeout:setTimeout(()=>{(g.config.focused||!s)&&t.dispatch(T(S)),M({queryCacheKey:r},t)},y)}}function B({queryCacheKey:r},t){let S=t.getState()[e].queries[r],p=d.currentSubscriptions[r];if(!S||S.status==="uninitialized")return;let{lowestPollingInterval:y}=l(p);if(!Number.isFinite(y)){m(r);return}let s=R[r],a=Date.now()+y;(!s||a<s.nextPollTimestamp)&&M({queryCacheKey:r},t)}function m(r){let t=R[r];t?.timeout&&clearTimeout(t.timeout),delete R[r]}function A(){for(let r of Object.keys(R))m(r)}function l(r={}){let t=!1,g=Number.POSITIVE_INFINITY;for(let S in r)r[S].pollingInterval&&(g=Math.min(r[S].pollingInterval,g),t=r[S].skipPollingIfUnfocused||t);return{lowestPollingInterval:g,skipPollingIfUnfocused:t}}return x};var tt=({api:e,context:n,queryThunk:c,mutationThunk:T})=>{let d=(0,i.isPending)(c,T),R=(0,i.isRejected)(c,T),x=(0,i.isFulfilled)(c,T),M={};return(m,A)=>{if(d(m)){let{requestId:l,arg:{endpointName:r,originalArgs:t}}=m.meta,g=n.endpointDefinitions[r],S=g?.onQueryStarted;if(S){let p={},y=new Promise((u,h)=>{p.resolve=u,p.reject=h});y.catch(()=>{}),M[l]=p;let s=e.endpoints[r].select(g.type==="query"?t:l),a=A.dispatch((u,h,f)=>f),o={...A,getCacheEntry:()=>s(A.getState()),requestId:l,extra:a,updateCachedData:g.type==="query"?u=>A.dispatch(e.util.updateQueryData(r,t,u)):void 0,queryFulfilled:y};S(t,o)}}else if(x(m)){let{requestId:l,baseQueryMeta:r}=m.meta;M[l]?.resolve({data:m.payload,meta:r}),delete M[l]}else if(R(m)){let{requestId:l,rejectedWithValue:r,baseQueryMeta:t}=m.meta;M[l]?.reject({error:m.payload??m.error,isUnhandledError:!r,meta:t}),delete M[l]}}};var nt=({reducerPath:e,context:n,api:c,refetchQuery:T,internalState:d})=>{let{removeQueryResult:R}=c.internalActions,x=(B,m)=>{H.match(B)&&M(m,"refetchOnFocus"),_.match(B)&&M(m,"refetchOnReconnect")};function M(B,m){let A=B.getState()[e],l=A.queries,r=d.currentSubscriptions;n.batch(()=>{for(let t of Object.keys(r)){let g=l[t],S=r[t];if(!S||!g)continue;(Object.values(S).some(y=>y[m]===!0)||Object.values(S).every(y=>y[m]===void 0)&&A.config[m])&&(K(S)===0?B.dispatch(R({queryCacheKey:t})):g.status!=="uninitialized"&&B.dispatch(T(g)))}})}return x};function rt(e){let{reducerPath:n,queryThunk:c,api:T,context:d}=e,{apiUid:R}=d,x={invalidateTags:(0,i.createAction)(`${n}/invalidateTags`)},M=l=>l.type.startsWith(`${n}/`),B=[Xe,Je,Ze,et,Ye,tt];return{middleware:l=>{let r=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:A,isThisApiSliceAction:M},S=B.map(s=>s(g)),p=$e(g),y=nt(g);return s=>a=>{if(!(0,i.isAction)(a))return s(a);r||(r=!0,l.dispatch(T.internalActions.middlewareRegistered(R)));let o={...l,next:s},u=l.getState(),[h,f]=p(a,o,u),Q;if(h?Q=s(a):Q=f,l.getState()[n]&&(y(a,o,u),M(a)||d.hasRehydrationInfo(a)))for(let b of S)b(a,o,u);return Q}},actions:x};function A(l){return e.api.endpoints[l.endpointName].initiate(l.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ie=Symbol(),ce=({createSelector:e=i.createSelector}={})=>({name:ie,init(n,{baseQuery:c,tagTypes:T,reducerPath:d,serializeQueryArgs:R,keepUnusedDataFor:x,refetchOnMountOrArgChange:M,refetchOnFocus:B,refetchOnReconnect:m,invalidationBehavior:A},l){(0,it.enablePatches)();let r=F=>(typeof process<"u",F);Object.assign(n,{reducerPath:d,endpoints:{},internalActions:{onOnline:_,onOffline:J,onFocus:H,onFocusLost:$},util:{}});let{queryThunk:t,mutationThunk:g,patchQueryData:S,updateQueryData:p,upsertQueryData:y,prefetch:s,buildMatchThunkActions:a}=Fe({baseQuery:c,reducerPath:d,context:l,api:n,serializeQueryArgs:R,assertTagType:r}),{reducer:o,actions:u}=qe({context:l,queryThunk:t,mutationThunk:g,reducerPath:d,assertTagType:r,config:{refetchOnFocus:B,refetchOnReconnect:m,refetchOnMountOrArgChange:M,keepUnusedDataFor:x,reducerPath:d,invalidationBehavior:A}});U(n.util,{patchQueryData:S,updateQueryData:p,upsertQueryData:y,prefetch:s,resetApiState:u.resetApiState}),U(n.internalActions,u);let{middleware:h,actions:f}=rt({reducerPath:d,context:l,queryThunk:t,mutationThunk:g,api:n,assertTagType:r});U(n.util,f),U(n,{reducer:o,middleware:h});let{buildQuerySelector:Q,buildMutationSelector:b,selectInvalidatedBy:D,selectCachedArgsForQuery:E}=Ue({serializeQueryArgs:R,reducerPath:d,createSelector:e});U(n.util,{selectInvalidatedBy:D,selectCachedArgsForQuery:E});let{buildInitiateQuery:k,buildInitiateMutation:v,getRunningMutationThunk:C,getRunningMutationsThunk:w,getRunningQueriesThunk:O,getRunningQueryThunk:I}=Ce({queryThunk:t,mutationThunk:g,api:n,serializeQueryArgs:R,context:l});return U(n.util,{getRunningMutationThunk:C,getRunningMutationsThunk:w,getRunningQueryThunk:I,getRunningQueriesThunk:O}),{name:ie,injectEndpoint(F,q){let N=n;N.endpoints[F]??={},se(q)?U(N.endpoints[F],{name:F,select:Q(F,q),initiate:k(F,q)},a(t,F)):ve(q)&&U(N.endpoints[F],{name:F,select:b(),initiate:v(F)},a(g,F))}}}});var ot=pe(ce());0&&(module.exports={QueryStatus,_NEVER,buildCreateApi,copyWithStructuralSharing,coreModule,coreModuleName,createApi,defaultSerializeQueryArgs,fakeBaseQuery,fetchBaseQuery,retry,setupListeners,skipToken});
//# sourceMappingURL=rtk-query.production.min.cjs.map